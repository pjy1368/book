### 02 이상한 나라의 객체
### 객체지향과 인지 능력
- 객체란 인간이 분명하게 인지하고 구별할 수 있는 물리적인 또는 개념적인 경계를 지닌 어떤 것이다.
- 현실 세계에서 전등은 누군가가 전원을 키고 꺼야하지만, 소프트웨어 세계에서는 전등이 스스로 전원을 키고 끌 수도 있다.

### 객체, 그리고 이상한 나라
#### 이상한 나라의 앨리스
- 이상한 나라의 앨리스의 줄거리
  - 앨리스는 특이한 토끼를 쫓아가지만, 컴컴한 굴 밑으로 떨어지게 됨.
  - 이곳의 복도 주변을 둘러 보다 커튼 뒤에 문을 발견하였는데, 문의 높이가 40cm가 되지 않았음.
  - 자신의 몸을 작게 만드려고 고민하던 중, 탁자 위에 '마셔리'라고 써져 있는 병을 발견함.
  - 키가 24cm까지 작아지자, 열쇠를 이용할 수 없게 됨.
  - 주변에 있던 케이크를 먹으니 몸이 커짐.
  - 이를 보고 놀란 토끼가 부채를 놓고 달아났는데, 부채질을 하니까 키가 60cm가 됨.
  - 우여곡절 끝에 쐐기벌레를 만나 버섯을 받았는데, 한쪽을 먹으면 몸이 커지고 다른쪽을 먹으면 몸이 작아짐.
  - 간신히 원래 몸으로 변해서 열쇠를 이용하여 문을 열고, 다시 버섯을 통해 몸을 40cm로 만들어서 외부로 나감.
  
#### 앨리스 객체
- 앨리스의 상태 : 키
- 앨리스의 행동
  - '마셔라'라고 써져있는 액체를 마심.
  - 케이크를 먹음.
  - 부채질을 함.
  - 버섯을 먹음.
  - 열쇠를 이용함.
  - 외부로 나감.
- 앨리스의 특징 요약.
  - 상태를 가지며, 상태는 변할 수 있음.
  - 상태를 변경시키는 것은 행동임.
    - 행동의 결과는 상태에 의존적이며 상태를 이용해 서술할 수 있음.
    - 행동의 순서가 결과에 영향을 미침.
  - 어떤 상태에 있더라도 식별가능함.
  
### 객체, 그리고 소프트웨어 나라
- 객체란 식별 가능한 개체 또는 사물이다.
- 객체는 구체적인 사물일 수도 있고 추상적인 개념일 수도 있다.
- 객체는 구별 가능한 식별자, 특징적인 행동, 변경 가능한 상태를 가진다.
- 소프트웨어 안에서 객체는 저장된 상태와 실행 가능한 코드를 통해 구현된다.

#### 상태
##### 왜 상태가 필요한가
- 과거에 발생한 행동의 이력을 통해 현재 발생한 행동의 결과를 예측하는 것은 어렵다.
- 행동의 과정과 결과를 단순하게 기술하기 위해 '상태'라는 개념이 등장.
  - '비행기 탑승 가능 여부?' -> 항공권의 발권 상태
  - '여자 친구와 드라이브?' -> 시동이 걸려있는 상태
  - '앨리스가 외부로 갈 수 있는가?' -> 키의 상태
  
##### 상태와 프로퍼티
- 숫자, 문자열, 양, 속도와 같은 단순한 값들은 객체가 아니고, 상태값을 표현한다.
- 때로는 객체도 상태값을 표현한다.
  - 앨리스가 음료를 들고 있다. -> 음료라는 객체를 앨리스의 상태값으로 표현.
- 프로퍼티 -> 객체의 상태를 구성하는 모든 특징을 뜻함. (정적)
- 프로퍼티 값 -> 시간의 흐름에 따라 변함. (동적)
- 링크 -> 객체와 객체 사이의 의미있는 연결
  - 이것이 없다면 객체끼리 메시지를 주고받을 수 없음. (협력 불가)
- 상태는 특정 시점에 객체가 가지고 있는 정보의 집합으로 객체의 구조적 특징을 표현함.
- 상태 = 정적 프로퍼티 + 동적 프로퍼티 값
- 프로퍼티 = 단순한 값(속성) + 링크

#### 행동
##### 상태와 행동
- 상태 <-> 행동
  - 객체의 행동은 상태에 영향을 받는다.
  - 객체의 행동은 상태를 변화시킨다.
- 행동의 2가지 관점
  - 상호작용이 현재의 상태에 어떤 방식으로 의존하는가
  - 상호작용이 어떻게 현재의 상태를 변경시키는가

##### 협력과 행동
- 객체의 행동에 따른 부수 효과
  - 객체 자신 상태 변경
  - 행동 내에서 협력하는 다른 객체에 대한 메시지 전송

##### 상태 캡슐화
- 객체가 외부에 노춣하는 것은 행동뿐이며, 외부에서 객체에 접근할 수 있는 유일한 방법 역시 행동뿐이다.
- 캡슐화하는 것 -> 객체의 자율성을 높이고, 협력을 단순하고 유연하게 만든다.

#### 식별자
- 식별자 : 어떤 객체를 다른 객체와 구분하는 데 사용하는 프로퍼티.
- 값
  - 식별자를 갖지 않음.
  - 불변함.
  - 값이 같은지 여부는 상태가 같은지를 이용해 판단함. (동등성)
- 객체
  - 식별자를 가짐.
  - 가변함.
  - 타입이 같더라도 독립적인 별개의 객체로 다뤄야 함.
  - 대신, 식별자가 같다면 같은 객체임. (동일성)
  
### 기계로서의 객체
- 쿼리 : 객체의 상태를 조회함.
- 명령 : 객체의 상태를 변경함.
- 사용자는 객체가 제공하는 쿼리와 명령으로 구성된 인터페이스를 통해서만 객체에 접근이 가능함.

### 행동이 상태를 결정한다
- 객체를 설계할 때, 상태를 먼저 결정하는 것의 단점
  - 캡슐화가 저해됨.
    - 상태가 객체 내부로 깔끔하게 캡슐화되지 못하고 공용 인터페이스에 노출될 수 있음.
  - 객체를 협력자가 아닌 고립된 섬으로 만듦.
  - 객체의 재사용성이 저하됨.
    - 객체의 재사용성은 다양한 협력에 참여할 수 있는 능력에서 나옴.
- 객체를 설계할 때, 행동을 먼저 결정해야 함.
  - why? : 객체는 다른 객체와 협력하기 위해 존재함.
- 꼭 기억하자. **"행동이 상태를 결정한다."**

### 은유와 객체
#### 두 번째 도시전설
- 객체지향이란 현실 세계의 모방이다. (x)
  - 소프트웨어 안에 구현된 상품 객체는 실제 세게의 상품과는 다른 양상을 띤다.
  - 이것은 실제 세계의 상품을 단순화하거나 추상화한 것이 아님.

#### 의인화
- 현실 속 객체 vs 소프트웨어 객체
  - 전자는 수동적이지만, 후자는 능동적임.
  - 현실 속의 트럼프 카드는 스스로 뒤집을 수 없지만, 소프트웨어에서는 가능하다. (의인화)

#### 은유
- 객체지향 세계는 현실 세계의 모방이 아니라, **"은유"**이다.
- 은유 : 실제로는 적용되지 않는 한 가지 개념을 이용해 다른 개념을 서술하는 대화의 형태.
- 소프트웨어 객체를 '전화기'로 설정하였다고 가정.
  - 사람들은 전화기의 특징을 알기때문에 이해하기 쉽고 유지보수가 용이한 소프트웨어를 만들 수 있음.
  - 이러한 이유때문에 객체지향 지침서에는 객체의 이름을 현실 세계에서 사용되는 이름으로 지으라고 써 있음.

##### 이상한 나라를 창조하라
- 우리의 목적은 현실을 모방하는 것이 아니라, 이상한 나라를 창조하는 것이다.
- 현실은 참고일 뿐이다. 어떠한 제약이나 구속 없이 원하는 새로운 세계를 창조하라.
  - 
