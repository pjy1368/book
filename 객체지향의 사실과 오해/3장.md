### 03 타입과 추상화
- 초기 지하철 노선도 디자인은 굉장히 사실적으로 지형을 묘사했고, 그만큼 역과 역 사이의 연결성이 직관적이지 못했음.
- 해리 벡은 지도가 가져야 할 '정확성' 대신 승객이 지하철을 편하게 이용해야한다는 '목적'에 집중함으로써 지하철 노선도 추상화를 성공하였다.

### 추상화를 통한 복잡성 극복
- 추상화 : 어떤 양상, 세부 사항, 구조를 좀 더 명확하게 이해하기 위해 특정 절차나 물체를 의도적으로 생략하거나 감춤으로써 복잡도를 극복하는 방법이다.
  - 구체적인 사물들 간의 공통점을 취하고 차이점은 버리는 일반화를 통해 단순하게 만듦.
  - 중요한 부분을 강조하기 위해 불필요한 세부사항을 제거함으로써 단순하게 만듦.

### 객체지향과 추상화
#### 모두 트럼프일 뿐
- 이상한 나라의 앨리스 줄거리
  - 40cm 문을 통과하여 저우언에 들어선 앨리스는 하얀 장미를 빨갛게 칠하고 있는 스페이드 문양의 정원사를 만남.
  - 그때 하트 여왕이 나타났고, 클로버 문양의 병사들이 들어왔음.
  - 앨리스는 여왕을 보며, "기껏해야 트럼프에 불과해. 무서워할 필요 없어."라고 말함.
- 위 동화에서 토끼, 정원사, 클로버 병서, 여왕, 신하들, 공주와 왕자, 왕과 왕비는 모두 객체임.
- 그런데, 앨리스는 토끼를 제외한 나머지는 모두 '트럼프'라는 하나의 개념으로 단순화하였음.
- 이것이 공통점만을 취해 단순화하는 추상화라고 볼 수 있음.

#### 그룹으로 나누어 단순화하기
- 앨리스는 정원에 있는 인물들을 '트럼프'와 '토끼'라는 두 개의 렌즈를 통해 정원을 바라보았는데, 이것은 정원에 내재된 복잡성을 감소시킨다.

#### 개념
- 개념 : 공통점을 기반으로 객체들을 묶기 위한 그릇.
- 객체는 특정한 개념을 적용할 수 있는 구체적인 사물을 의미하는데, 개념이 객체에 적용됐을 때 객체를 개념의 **인스턴스**라고 한다.

#### 개념의 세 가지 관점
- 개념의 세 가지 관점
  - 심볼 : 개념을 가리키는 간략한 이름이나 명칭.
  - 내연 : 개념의 완전한 정의를 나타내며 내연의 의미를 이용해 객체가 개념에 속하는지 여부를 확인할 수 있음.
  - 외연 : 개념에 속하는 모든 객체의 집합. (개념의 인스턴스 집합)

#### 객체를 분류하기 위한 틀
- 분류 : 객체에 특정한 개념을 적용하는 작업.

#### 분류는 추상화를 위한 도구다.

### 타입
#### 타입은 개념이다
- 타입은 개념과 동일하다. 심볼, 내연, 외연을 이용해 서술가능하며, 타입에 속하는 객체 역시 타입의 인스턴스라고 한다.

#### 데이터 타입
- 타입은 데이터가 어떻게 사용하느냐에 관한 것이다.
- 타입에 속한 데이터를 메모리에 어떻게 표현하는지는 외부로부터 철저하게 감춰진다.
- 데이터 타입은 메모리 안에 저장된 데이터의 종류를 분류하는 데 사용하는 메모리 집합에 관한 메타데이터다. 데이터에 대한 분류는 암시적으로 어떤 종류의 연산이 해당 데이터에 대해 수행될 수 있는지를 결정한다.

#### 객체와 타입
- 객체는 행위에 따라 변할 수 있는 상태를 가지고 있다.
- **객체는 데이터가 아니다!!** 객체에서 중요한 것은 객체의 **행동**이다.
- 어떤 객체가 어떤 타입에 속하는지를 결정하는 것은 객체가 수행하는 행동이다.
- 객체의 내부적인 표현은 외부로부터 철저하게 감춰진다.
- 위의 두 줄을 볼 때, 객체는 데이터 타입과 깊은 연관성이 잇다.

#### 행동이 우선이다.
- 동일한 책임을 수행하는 객체는 동일한 타입에 속한다.
- 같은 타입에 속한 객체는 행동만 동일하다면 서로 다른 데이터를 가질 수 있다.
- 행동 = 책임 = 메시지 수신
- 다형성 : 동일한 요청에 대해 서로 다른 방식으로 응답할 수 있는 능력.
- 다형적인 객체는 동일한 타입(또는 타입 계층)에 속하게 된다.
- 책임-주도 설계

### 타입의 계층
#### 트럼프 계층
- 앞에서 이야기한 '트럼프'가 정말로 동일한 행동을 하고 있을까? 사실은 '트럼프 인간'이라고 개념을 정의하는 것이 옳다.
  - why? : 외양만 비슷하고, 실제 행동은 '트럼프'와는 거리가 있다.
- 트럼프 타입의 객체는 '납작 엎드릴 수 있고 뒤집어질 수 있다.'고 하면, '트럼프 인간'은 '트럼프'의 행동 + '걸을 때마다 몸이 종이처럼 좌우로 펄럭일 수 있다.'라고 할 수 있다.
- 즉, 트럼프 인간 타입의 외연은 트림프 외연의 부분 집합이다.
- 여기서 '트럼프'는 일반화, '트럼프 인간'은 특수화라고 하며, 일반화/특수화 관계라고 한다.

#### 일반화/특수화 관계
- 일반화와 특수화는 동시에 일어난다.
- 일반화/특수화 관계를 결정하는 것은 객체의 상태를 표현하는 데이터가 아니라 **행동**이다.
- 일반적인 타입은 특수한 타입보다 외연의 크기는 더 크고, 행동의 수는 더 적다.

#### 슈퍼타입과 서브타입
- 일반적인 타입을 슈퍼타입, 특수한 타입을 서브타입이라고 한다.
- 서브타입은 슈퍼타입을 대체할 수 있어야 한다.
- 슈퍼타입의 행동은 서브타입에게 상속된다.

#### 일반화는 추상화를 위한 도구다
- '트럼프 인간'에서 인간의 특수한 능력을 배제한다면, 앞서 이야기한 여러 가지 트럼프는 '트럼프'로 일반화할 수 있다.
- 이것은 중요한 부분을 강조하기 위해 불필요한 세부 사항을 제거시켜 단순하게 만드는 것과 같다.

### 정적 모델
#### 타입의 목적
- 타입을 사용하는 이유는 인간의 인지 능력으로는 동적으로 변하는 객체의 복잡성을 극복하기 어렵기 때문이다.
- 즉, 타입은 동적으로 변하는 객체의 상태를 정적인 모습으로 다룰 수 있게 해 준다.

#### 그래서 결국 타입은 추상화다
- 타입은 추상화다.
- 앨리스가 키가 시시각각 변하는 것을 타입을 통해 정적인 상태로 만들 수 있다.
- 타입을 이용하면 객체의 동적인 특성을 추상화할 수 있다. 결국 타입은 시간에 따른 객체의 상태 변경이라는 복잡성을 단순화하는 것이다.

#### 동적 모델과 정적 모델
- 스냅샷 : 객체가 특정 시점에 갖는 구체적인 상태.
- 동적 모델 : 스냅샷처럼 객체의 상태가 어떻게 변하고 어떻게 행동하는지 포착하는 것.
- 타입 모델(정적 모델) : 객체가 가질 수 있는 모든 상태와 모든 행동을 시간에 독립적으로 표현하는 것.

#### 클래스
- 정적인 모델은 클래스를 이용해 구현된다. 따라서 타입을 구현하는 가장 보편적인 방법을 클래스를 사용하는 것이다.
- **클래스와 타입은 같지 않다.**
- 클래스는 단순히 타입을 구현하기 위해 프로그래밍 언어에서 제공하는 구현 메커니즘일 뿐이다.
- 객체를 분류하는 기준은 타입이며, 타입을 나누는 기준은 객체가 수행하는 행동이다.
