# 제1장. 웹과 네트워크의 기본에 대해 알아보자
## 1.1 웹은 HTTP로 나타낸다
- 서버에 의뢰를 하는 웹 브라우저 등을 클라이언트라고 부른다.
- 클라이언트에서 서버까지 일련의 흐름을 HTTP(HyperText Transfer Protocol)이라 불리는 프로토콜이 결정한다.

## 1.2 HTTP는 이렇게 태어났고 성장했다
### 1.2.1 웹은 지식 공유를 위해 고안되었다
- CERN의 팀 버너스 리 박사는 멀리 떨어져 있는 동료 연구자와 지식을 공유하기 위한 시스템을 고안하였다.
- 최초로 고안한 것은 하이퍼텍스에 의해 참조 가능한 WWW의 기본 개념이었다.
- WWW를 구성하는 기술: HTML(HyperText Markup Language), HTTP, URL(Uniform Resource Locator) 등

### 1.2.2 웹이 성장한 시대
- 대한민국 최초 홈페이지: http://cair.kaist.ac.kr
- 다만 위 홈페이지는 HTML 1.0 초안인 상태로 폐기되었다.
- 1993년 1월, NCSA에서 현재 사용하는 웹 브라우저의 선조인 모자이크를 개발하였다.
- 같은 해 가을에는 윈도우 판과 매킨토시 판도 개발되었다.
- 그 다음 해는 넷스케이프 내비게이터 1.0을 출시하고 마이크로소프트에서 인터넷 익스플로러를 출시하였다.
- 이 무렵 아파치 0.2와 HTML 2.0이 발행되었다.
- 그 뒤로는 브라우저간의 전쟁이 시작되었다.

### 1.2.3 진보 안하는 HTTP
#### HTTP/0.9
- HTTP의 정식 사양서가 아님.

#### HTTP/1.0
- 초기의 사양이지만 현재에도 많은 서버상에서 현역으로 가동됨.

#### HTTP/1.1
- 현재 가장 많이 사용되는 버전.

## 1.3 네트워크의 기본은 TCP/IP
### 1.3.1 TCP/IP는 프로토콜의 집합
- 컴퓨터와 네트워크 기기는 서로 같은 방법으로 통신해야 한다.
- 통신을 하기 위해서 모든 요소에 규칙이 필요한데, 이 규칙을 프로토콜이라고 한다.
- 인터넷과 관련된 프로토콜을 모은 것을 TCP/IP라고 부른다.

### 1.3.2 계층으로 관리하는 TCP/IP
- TCP/IP는 '애플리케이션 계층', '트랜스포트 계층', '네트워크 계층', '링크 계층'으로 나뉜다.
- 계층화의 장점
  - 사양이 변경된 해당 계층만 바꾸면 된다는 장점이 있다.
  - 설계를 편하게 할 수 있다.

#### 애플리케이션 계층
- 유저에게 제공되는 애플리케이션에서 사용하는 통신의 움직임을 결정한다.
- FTP, DNS, HTTP 등이 이 계층에 포함된다.

#### 트랜스포트 계층
- 애플리케이션 계층에 네트워크로 접속되어 있는 2대의 컴퓨터 사이의 데이터 흐름을 제공한다.
- TCP, UDP 두 가지 프로토콜이 있다.

#### 네트워크 계층 (혹은 인터넷 계층)
- 네트워크 상에서 패킷의 이동을 다룬다.
- 패킷: 전송하는 데이터의 최소 단위.
- 어떠한 경로를 거쳐 상대의 컴퓨터까지 패킷을 보낼지 결정하기도 한다.

#### 링크 계층 (혹은 데이터 링크 계층, 네트워크 인터페이스 계층)
- 네트워크에 접속하는 하드웨어적인 면을 다룬다.

### 1.3.3 TCP/IP 통신의 흐름
- <송신>
- 애플리케이션에서 어느 웹 페이지를 보고 싶다라는 HTTP 리퀘스트를 지시한다.
- 트랜스포트 계층에서는 애플리케이션 계층에서 받은 데이터(HTTP 메시지)를 통신하기 쉽게 조각내어 안내 번호와 포트 번호를 붙여 네트워크 계층에 전달한다.
- 네트워크 계층에서는 수신지 MAC 주소를 추가해서 링크 계층에 전달한다.
- <수신>
- 링크 계층에서 데이터를 받아들여 순서대로 위의 계층에 전달하여 애플리케이션 계층까지 도달한다.
- <주의 사항>
- 송신측에서는 계층을 통과할 때마다 헤더를 추가하고, 수신측에서는 계층을 통과할 때마다 헤더를 삭제해야 한다.

## 1.4 HTTP와 관계가 깊은 프로토콜은 IP/TCP/DNS
### 1.4.1 배송을 담당하는 IP
- IP와 IP 주소를 엄연히 다르다. IP는 Internet Protocol의 약어이다.
- IP의 역할을 개개의 패킷을 상대방에게 전달하는 것이다.
- IP 주소는 각 노드에 부여된 주소를 가리키고 MAC 주소는 각 네트워크 카드에 할당된 고유의 주소이다.
- IP 주소는 변경 가능하지만 기본적으로 MAC 주소는 변경할 수 없다.

#### 통신은 ARP를 이용하여 MAC 주소에서 한다
- IP 통신은 MAC 주소에 의존해서 통신을 한다.
- 인터넷에서는 여러 대의 컴퓨터와 네트워크 기기를 중계해서 상대방에게 도착한다.
- 다음으로 중계할 곳의 MAC 주소를 사용하여 목적지를 찾아가기 위해 ARP(Address Resolution Protocol)이라는 프로토콜이 사용된다.
- ARP는 수신지의 IP 주소를 바탕으로 MAC 주소를 조사할 수 있다.

#### 그 누구도 인터넷 전체를 파악하고 있지는 않다
- 목적지까지 중계를 하는 도중에 컴퓨터와 라우터 등의 네트워크 기기는 목적지에 도착하기까지 대략적인 목적만을 알고 있다.
- 이 시스템을 라우팅이라고 부르는데, 택배 배송과 흡사하다.
- 시작점과 도착점만 알면 되고, 전체 과정을 알 필요는 없다.

### 1.4.2 신뢰성을 담당하는 TCP
- TCP는 신뢰성 있는 바이트 스트림 서비스를 제공한다.
- 바이트 스트림 서비스: 용량이 큰 데이터를 보내기 쉽게 TCP 세그먼트라고 불리는 단위 패킷으로 작게 분해하여 관리하는 것을 말한다.
- TCP는 대용량의 데이터를 보내기 쉽게 작게 분해하여 상대에게 보내고, 정확하게 도착했는지 확인하는 역할을 담당한다.

#### 상대에게 데이터를 확실하게 보내는 것이 일이다
- 상대방에게 확실하게 데이터를 보내기 위해서 TCP는 "쓰리웨이 핸드셰이킹"이라는 방법을 사용한다.
- 이 방법은 패킷을 보내고 나서 보내졌는지 여부를 상대에게 확인하러 가는 것이다. 이때, SYN과 ACK라는 TCP 플래그를 사용한다.
- 송신측에서는 최초 SYN 플래그로 상대에게 접속함과 동시에 패킷을 보낸다.
- 수신측에서는 SYN/ACK 플래그로 송신측에 접속함과 동시에 패킷을 수신한 사실을 전한다.
- 마지막으로 송신측이 ACK 플래그를 보내 패킷 교환이 완료되었음을 전한다.
- 중간에 통신이 끊기면 TCP는 위와 같은 방식으로 패킷을 재전송한다.

## 1.5 이름 해결을 담당하는 DNS
- DNS(Domain Name System)는 HTTP와 같이 응용 계층 시스템에서 도메인 이름과 IP 주소 이름 확인을 제공한다.
- 컴퓨터는 IP 주소와는 별도로 호스트 이름과 도메인 이름을 붙일 수 있다.
- DNS는 도메인명에서 IP 주소를 조사하거나 반대로 IP 주소로부터 도메인명을 조사하는 서비스를 제공한다.

## 1.6 각각과 HTTP와의 관계

## 1.7 URI와 URL
### 1.7.1 URI는 리소스 식별자
- URI: Uniform Resource Identifiers

#### Uniform
- 통일된 서식을 결정하는 것으로, 여러 가지 종류의 리소스 지정 방법을 같은 맥락에서 구별없이 취급할 수 있게 한다.
- 또한, 새로운 스키마(http:와 ftp 등) 도입을 용이하게 한다.

#### Resource
- 리소스는 '식별 가능한 모든 것'이라고 정의되어 있다.

#### Identifier
- 식별 가능한 것을 참조하는 오브젝트이며 식별자로 불린다.
- URI는 스키마를 나타내는 리소스를 식별하기 위한 식별자이다.

#### URI vs URL
- URI는 리소스를 식별하기 위해 문자열 전반을 나타내는데 비해 URL은 리소스의 장소(네트워크 상의 위치)를 나타낸다.
- URL은 URI의 서브셋이다.

### 1.7.2 URL 포맷
- 절대 URI 포맷: http://user:pass@www.example.jp:80/dir/index.html?uid=1#ch1

#### 스키마
- http:
- 리소스를 얻기 위해 사용하는 프로토콜을 지시한다.

#### 자격정보(크리덴셜)
- user:pass
- 서버로부터 리소스를 취득하려면 자격정보가 필요하다. 유저명과 패스워드를 지정할 수 있는데, 이것은 옵션이다.

#### 서버주소
- www.example.jp

#### 서버포트
- 80
- 생략가능하나, 생략하면 디폴트 포트가 사용된다.

#### 계층적 파일 패스
- dir/index.html

#### 쿼리 문자열
- uid=1
- 이것은 옵션이다.

#### 프래그먼트 식별자
- ch1
- 이것은 옵션이다.
